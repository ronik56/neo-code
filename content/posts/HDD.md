---
title: "איך דיסקים קשיחים עובדים?"
date: 2020-10-08T06:28:09+03:00
draft: false
categories: ["חומרה"]
tags: ["דיסק קשיח", "חומרה", "HDD"]
featured_image: /HDD.png
---

מהדיסק הקשיח הראשון שפותח אי שם ב-1956 על ידי IBM והחזיק בשטח אחסון של 5MB ועד הקשיחים המודרניים שמחזיקים עשרות טרהבייטים (Terabytes) של מידע עברנו דרך ארוכה. אבל איך בדיוק אנחנו מאחסנים כל כך הרבה מידע על חתיכת מתכת בגודל של 3.5 אינץ' (קצת פחות מ-9 ס"מ)?

כולנו יודעים מה זה מגנט, ובערך איך הוא עובד. קובץ קטן מאיתנו אולי גם גילה שאם נשפשף קצת את המגנט על מתכת כלשהי, כמו מסמר, אנחנו "הופכים" את המסמר למגנט, מה שנקרא מגנוט (Magnetization). באותה המידה שאפשר למגנט את המסמר, אפשר גם לבטל את התכונות המגנטיות שלו, כלומר להחזיר אותו למצב בו הוא לא מגנט (Demagnetization). מגנטיות זו תכונה שאפשר לתת למסמר, תכונה בעלת שני ערכים בלבד- ממוגנט, לא ממוגנט. כן, לא- 1, 0.

באותה הצורה בדיוק עובד דיסק קשיח, על ידי מגנוט (או ביטול שדה מגנטי) של מתכת. בדיסק הקשיח שלנו אין מסמרים כמובן, במקום זה יש לדיסק קשיח דיסקה שטוחה (platter), לרוב מאלומיניום או זכוכית או חומר קרמי דומה מצופה שכבה מתכתית משני הצדדים. הדיסקה מחולקת כיום למיליארדי איזורים קטנטנים שאפשר למגנט או לבטל את המגנוט שלהם. התכונה המגנטית נשמרת עד שמשנים אותה ידנית ולכן הקשיח שומר את המידע גם כאשר המחשב מכובה. דיסקים קשיחים יכולים לכלול בין 1 ל-5 דיסקות. מספר הדיסקות תלוי במחיר (קשיחים זולים יותר יחסכו עלויות עם דיסקה אחת) ובנפח הדרוש.

לכל דיסקה יש 2 ראשי קריאה/כתיבה שמחוברים לבקר אלקטרוני והם זזים פנימה והחוצה (כלומר לכיוון מרכז הדיסקה או לכיוון הקצה שלה) בזמן שהדיסקה מסתובבת. רוב הקשיחים מסתובבים בקצב של 5400 או 7200 סל"ד. כדי למנוע שחיקה יש שכבה של אוויר או נוזל כך שהראשים לא נוגעים בדיסקה.

כמו שאמרנו, הקשיח שומר מידע ביחידות של 0 ו-1, כלומר ביטים (bit), בהתאם למגנטיות של הנקודה. בקשיח סטנדרטי של 1TB זה אומר שיהיו לנו 8,000,000,000,000 נקודות (8x10^12) עם הערך 0 ו-1 שיוצרות המון קבצים שונים. אם לשנות אפילו ביט אחד אנחנו יכול להרוס קובץ ולהפוך אותו לבלתי שמיש. אז איך המחשב יכול למצוא ביט אקראי אחד מתוך מיליארדים?

הקשיח שומר את המידע באופן נורא מסודר. כל המידע מסודר במסלולים מעגליים (tracks). כל מסלול מחולק למקטעים (sectors) שכל אחד מהם מכיל מספר בייטים (bytes) שנע בין 512 ל-4096 . איזור יעודי בקשיח שומר מעיין מפה של איזה סקטורים תפוסים ואיזה לא וככה מערכת ההפעלה יודעת לאן להפנות את ראש הקריאה/כתיבה כדי לכתוב את הקובץ. קריאת מידע עובדת באותו האופן בכיוון ההפוך. המחשב שולט על הראש באמצעות בקר (controller) שנמצא על הקשיח.

היתרונות הכי בולטים של דיסקים קשיחים הם אמינות- הם מחזיקים המון זמן ויכולים לעמוד בכמויות עצומות של קריאה וכתיבה, מחיר זול ויכולת לאחסן כמויות גדולות של מידע.

החסרונות שלהם הם מהירות, רעש וצריכת חשמל. בזמן שקשיחים מגיעים למקסימום של 150-200MB/s בקריאה וכתיבה לדגמים היוקרתיים (ולרוב בין 100 ל-150), דגמי ה-SSD (האלטרנטיבה לקשיחים, פוסט עליהם יגיע בקרוב) הכי פשוטים נמצאים באיזור ה-300-400MB/s ומגיעים עד מהירויות של 3000-3500MB/s (ואפילו 5000MB/s עם ההשקה של כונני PCIe 4.0) לצרכן הביתי. ההבדל בשימוש השוטף הוא משמעותי- המחשב עולה תוך מספר שניות במקום 3-4 דקות ואפשר להשתמש בו באופן מיידי ולא לחכות כמה דקות עד שאפשר יהיה להפעיל את הדפדפן בלי שהכל יהיה תקוע ואיטי. מעבר לזה קשיחים רועשים יותר מאחר ויש פעולות מכניות של סיבוב, צורכים יותר חשמל (5-6 וואט לעומת 2-3 וואט, מתבטא בכמה שקלים בשנה לכל היותר) וגם כבדים בהרבה בגלל הדיסקות.
